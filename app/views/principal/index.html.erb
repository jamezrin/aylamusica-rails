<%= render "partials/publicidad" do %>
  <div class="container justify-content-center mt-5 text-center" id="ver-principal">
    <div>
      <h1><%= t("titulo_buscar_cancion") %></h1>

      <%= form_with url: buscar_url, local: true, method: :get do |f| %>
        <div class="form-group">
          <%= f.text_field :q, class: 'offset-3 col-6 form-control form-control-lg', placeholder: t('buscar_todas') %>
        </div>
        <%= f.submit t('acciones.buscar'), name: nil, class: 'btn btn-primary' %>
      <% end %>
    </div>

    <%= image_tag 'undraw_music_disc.svg', class: 'w-50 mt-5 no-drag-select' %>

    <div class="mt-5">
      <h2><%= t('titulo_canciones_populares') %></h2>
      <ul class="list-unstyled d-flex flex-row justify-content-center flex-wrap">
        <% if @canciones.empty? %>
        <h3 class="text-muted w-50"><%= t 'ninguna_cancion' %></h3>
        <% else %>
          <% @canciones.each do |cancion| %>
            <li>
              <a href="<%= cancion_url(cancion) %>" class="text-decoration-none">
                <div class="m-3 p-4 bg-white shadow-sm rounded-lg cancion-popular">
                  <% if cancion.imagen.attached? %>
                    <%= image_tag cancion.imagen, class: 'cancion-popular__imagen no-drag-select' %>
                  <% else %>
                    <%= image_tag 'music_note_disk_icon.png', class: 'cancion-popular__imagen-defecto no-drag-select' %>
                  <% end %>

                  <div class="mt-3">
                    <p class="card-title"><%= cancion.titulo %></p>
                    <p class="card-subtitle mb-2 text-muted"><%= cancion.artista %></p>
                  </div>
                </div>
              </a>
            </li>
          <% end %>
        <% end %>
      </ul>
    </div>
  </div>
<% end %>